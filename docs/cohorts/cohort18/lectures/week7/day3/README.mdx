---
sidebar_position: 1
sidebar_label: Day 3
title: Week 7 - Day 3
keywords:
    - components
    - controlled inputs
    - useEffect
    - fetch()
---

:::info
Reminder: Today's lecture has been moved to the afternoon!
:::

## Review

The bulk of today is focused on reviewing the [Day 2 exercises](/docs/cohorts/cohort18/lectures/week7/day2/EXERCISES.md)

## Next Steps

Time PerformancePaintTiming, we'll move on to the following:

- `fetch()` and `useEffect`
- We'll use the [MockShop API](https://mock.shop/)

## Recommended Reading

- [Fetching Data in React using Hooks](https://blog.bitsrc.io/fetching-data-in-react-using-hooks-c6fdd71cb24a)
- [When does React re-render components?](https://felixgerschau.com/react-rerender-components/)
- [OverReacted: A complete guide to `useEffect`](https://overreacted.io/a-complete-guide-to-useeffect/)
- [React.dev: Managing State](https://react.dev/learn/managing-state)
- [Patrick Roza: Component vs Prop drilling in React](https://patrickroza.com/blog/component-vs-prop-drilling-in-react/)

## NOTE

There are a _lot_ of good links in the [Resources](./RESOURCES.md) file today! I would read as many of those as you can (and note any particular questions that come to mind).

## In Class Demo Code

<details>
<summary>Expand the view the code from our in class demo</summary>

This demo uses Bulma. To enable those classnames you can simply add the following line to the `index.html` file:

```html
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
```
```jsx
// App.jsx
import Products from './components/Products';

function App() {
    return (
        <main className='container'>
            <h1 className='title'>This is going to be a store!</h1>
            <Products />
        </main>
    );
}

export default App;

// Products.jsx
import { useState, useEffect } from 'react';
import ProductDetail from './ProductDetail';

function Products() {
    const [data, setData] = useState([]);

    const fetchData = async () => {
        const url =
            'https://mock.shop/api?query={products(first:%2020){edges%20{node%20{id%20title%20description%20featuredImage%20{id%20url}%20variants(first:%203){edges%20{node%20{price%20{amount%20currencyCode}}}}}}}}';
        const apiData = await fetch(url).then((response) => response.json());
        setData(apiData.data.products.edges);
    };

    useEffect(() => {
        fetchData();
    }, []);

    return (
        <section className='container is-medium is-flex is-flex-wrap-wrap is-flex-direction-row is-align-items-stretch'>
            {data.map((item) => {
                return <ProductDetail product={item} key={item.node.id} />;
            })}
        </section>
    );
}

export default Products;

// ProductDetail.jsx
const ProductDetail = ({ product }) => {
    return (
        <div className='card' style={{width: '300px', margin: '8px'}}>
            <div className='card-image'>
                <figure className='image is-square'>
                    <img
                        src={product.node.featuredImage.url}
                        alt={product.node.title}
                    />
                </figure>
            </div>
            <div className='card-content'>
                <div className='content'>
                    <h2 className='title'>{product.node.title}</h2>
                    <p>stuff</p>
                </div>
            </div>
        </div>
    );
};

export default ProductDetail;
```
</details>